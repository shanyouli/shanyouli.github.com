<!doctype html><html lang=zh-CN><head><meta name=viewport content="width=device-width,initial-scale=1"><meta charset=utf-8><meta name=description content="logseq 多端同步 - https://shanyouli.github.io/posts/logseq_%E5%A4%9A%E7%AB%AF%E5%90%8C%E6%AD%A5/"><meta name=author content="Shanyou Li - https://shanyouli.github.io/"><meta name=msvalidate.01 content="B46311949B856F2A7015F366FB3CE878"><title>logseq 多端同步</title>
<link rel=icon type=image/png href=/favicon.ico><link rel=stylesheet href=https://cdn.bootcdn.net/ajax/libs/lxgw-wenkai-webfont/1.7.0/style.min.css><link rel=stylesheet href=https://cdn.bootcdn.net/ajax/libs/lxgw-wenkai-screen-webfont/1.7.0/style.min.css><link rel=stylesheet href=https://shanyouli.github.io/style.min.6bbccf0916939df698171c34d30f896276712c30bd56be0d7fd8023e1b00c3d9.css><script type=text/javascript src=/main.js defer></script></head><body class="active-animate cool"><div class=cool-before style="background:url(/imgs/bg/default.jpg)50%/cover no-repeat fixed"></div><div id=header><div class=container-header><div class=right><h1 class=title>logseq 多端同步</h1><div id=toc>📜</div></div></div></div><div id=content><div class="container-main container-page"><div class=desc><span><svg t="1656736000388" class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" p-id="7409" width="12" height="12"><path d="M524.885333 338.986667l-324.522666 324.48c-17.28 15.274667-27.989333 36.693333-29.696 56.234666v133.76l130.730666.085334c22.784-1.621333 43.989333-12.245333 61.013334-31.701334L685.098667 499.2 524.885333 338.986667zM585.258667 278.656l160.170666 160.213333 102.144-102.144a19.712 19.712.0 000-27.861333l-132.48-132.437333a19.456 19.456.0 00-27.605333.0L585.258667 278.613333zM701.312 85.333333c27.946667.0 54.741333 11.136 74.282667 30.848L907.904 248.490667a105.045333 105.045333.0 010 148.565333L424.874667 879.957333C395.050667 914.304 352.768 935.424 304.426667 938.752H85.333333v-42.666667l.128-179.84c3.626667-44.970667 24.576-86.826667 56.448-114.944l485.12-485.034666a104.789333 104.789333.0 0174.24-30.933334z" p-id="7410" fill="#adb5bd"/></svg>
2024-05-13&nbsp;&nbsp;&nbsp;
<svg t="1656737270708" class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" p-id="23838" width="11" height="11"><path d="M824.264 95.36c0-23.859 25.043-44.16 48.902-44.16s49.714 20.301 49.714 44.16v190.08c0 23.859-19.054 52.868-42.913 52.868h-190.08c-23.859.0-46.696-25.96-46.696-49.819s22.55-46.249 46.409-46.249h82.025C702.344 175.534 610.22 155.853 512 155.853c-206.775.0-360.398 149.372-360.398 356.147S305.225 870.23 512 870.23c206.775.0 357.467-151.455 357.467-358.23.0-23.859 23.634-50.706 53.413-50.706 29.78.0 49.92 26.847 49.92 50.706.0 254.493-206.307 460.8-460.8 460.8s-460.8-206.307-460.8-460.8C51.2 257.507 257.507 51.2 512 51.2c122.4.0 226.684 33.296 312.264 117.369.358.351.358-24.052.0-73.209z" p-id="23839" fill="#adb5bd"/></svg>
2024-05-13&nbsp;&nbsp;&nbsp;
</span><span><svg t="1656737548689" class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" p-id="33866" width="12" height="12"><path d="M832.038608 64.662657H192.030028c-70.774903.0-128.089859 57.325793-128.089859 128.03206v446.793671c0 70.7171050000001 57.314956 128.154884 128.089859 128.154884h133.353183a63.940169 63.940169.0 0155.219742 31.576328l76.099638 129.83828c12.358154 21.093031 33.790754 31.626903 55.216129 31.626903s42.832688-10.544709 55.198067-31.619678l76.222461-129.870792a63.940169 63.940169.0 0155.212517-31.551041h133.54103c70.576219.0 127.732228-57.289669 127.732227-127.800865V192.391272c0-70.536482-57.181295-127.728615-127.786414-127.728615zM895.884854 639.842407A63.85347 63.85347.0 01832.092795 703.703103h-133.54103a127.753903 127.753903.0 00-110.349172 63.09847l-76.222461 129.856342a.274545.274545.0 010-.050574h-.032512s-.021675.061411-.032512.061412l-76.1466-129.85273a127.804477 127.804477.0 00-110.385297-63.11292H192.030028A64.207489 64.207489.0 01127.880338 639.488388V192.694717a64.102729 64.102729.0 0164.14969-64.091891h640.00858a63.799284 63.799284.0 0163.846246 63.788446v447.451135z" fill="#adb5bd" p-id="33867"/><path d="M608.154093 288.092004a31.970084 31.970084.0 00-31.970084 31.970085v160.078006L441.53396 300.861976a31.970084 31.970084.0 00-57.531702 19.200113v255.760676a31.970084 31.970084.0 0063.940169.0V415.863969l134.650048 179.274507a31.970084 31.970084.0 0057.531703-19.200113V320.062089a31.970084 31.970084.0 00-31.970085-31.970085z" fill="#adb5bd" p-id="33868"/></svg>
2846 字</span>&nbsp;
<span><svg t="1656737462334" class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" p-id="32892" width="12" height="12"><path d="M512 74.666667C270.933333 74.666667 74.666667 270.933333 74.666667 512S270.933333 949.333333 512 949.333333 949.333333 753.066667 949.333333 512 753.066667 74.666667 512 74.666667zm0 810.666666C307.2 885.333333 138.666667 716.8 138.666667 512S307.2 138.666667 512 138.666667 885.333333 307.2 885.333333 512 716.8 885.333333 512 885.333333z" p-id="32893" fill="#adb5bd"/><path d="M695.466667 567.466667 544 497.066667V277.333333c0-17.066667-14.933333-32-32-32s-32 14.933333-32 32v238.933334c0 12.8 6.4 23.466667 19.2 29.866666L669.866667 627.2c4.266667 2.133333 8.533333 2.133333 12.8 2.133333 12.8.0 23.466667-6.4 29.866666-19.2 6.4-14.933333.0-34.133333-17.066666-42.666666z" p-id="32894" fill="#adb5bd"/></svg>
6 分钟</span><div class=container-ctgtag><div class=taxonomy><div class=tag><a href=/tags/logseq>logseq</a>
<a href=/tags/tool>tool</a>
<a href=/tags/></a></div></div></div></div><div class=toc><div class=container-page-operation><div class=page-operation><div><a href=/><img src=/imgs/icons/home-2.svg alt></a></div><div><a href=/nav><img src=/imgs/icons/iov-navigate-1.svg alt></a></div><div><a href=/tags><img src=/imgs/icons/treetags.svg alt></a></div><div id=light-dark><a><img src=/imgs/icons/moon2.svg alt></a></div><div><a href=#><img src=/imgs/icons/up2.svg alt></a></div></div></div><nav id=TableOfContents><ul><li><a href=#logseq-多端同步-logseq-同步>logseq 多端同步 :logseq:同步</a><ul><li></li></ul></li><li><a href=#参考>参考</a></li></ul></nav></div><div class=content><h2 id=logseq-多端同步-logseq-同步>logseq 多端同步 :logseq:同步</h2><h4 id=仅使用电脑端和-android-手机>仅使用电脑端和 android 手机</h4><p>推荐使用 <a href=https://www.jianguoyun.com/>坚果云</a> 或者 <a href=https://www.dropbox.com/>dropbox</a> , 安卓手机上需要使用的软件:</p><ul><li>如果使用坚果云: 请先下载 <a href=https://foldersync.io/>foldersync</a></li><li>如果使用 dropbox: 需要下载 <a href="https://play.google.com/store/apps/details?id=com.ttxapps.dropsync&amp;gl=US">dropsync</a></li></ul><ul><li><p>pc 端的同步</p><p>pc 端仅需下载对应软件，开启软件后，使用软件自带的同步盘功能。将对应的目录纳入同步管理中</p></li></ul><ul><li><p>android 端的同步</p><p>使用 <code>坚果云</code> 为例， 图文教程: <a href="https://help.jianguoyun.com/?p=2887">如何使用 FolderSync 在安卓手机上同步文件夹到坚果云</a>, 具体步骤:</p><ol><li>开启坚果云的 webdav 功能, 参考: <a href="https://help.jianguoyun.com/?p=2064">坚果云第三方应用授权 WebDAV 开启方法</a></li><li>下载并安装好 FolderSync</li><li>打开 FolderSync ，点击 账号 &ndash;> 添加账号 &ndash;> WebDAV</li><li>填写服务:</li></ol><table><thead><tr><th>参数</th><th>作用</th></tr></thead><tbody><tr><td>名称</td><td>自定义，webdav 的名称 ,步骤 6 需要的名称</td></tr><tr><td>登录名</td><td>坚果云注册账号</td></tr><tr><td>密码</td><td>应用密码，步骤 1 生成的应用授权码</td></tr><tr><td>服务器</td><td>一定是: dav.jianguoyun.com</td></tr><tr><td>端口</td><td>一定是: 443</td></tr><tr><td>路径</td><td>/dav/xxx , xxx 为你需要挂载的路径，默认可以访问全部内容</td></tr></tbody></table><ol><li>点击测试，如果测试通过了 点击保存，如果测试没有通过，请 <strong>检查步骤 4 中填写的服务参数</strong> 是否正确。</li><li>返回 FolderSync 主页， 点击 &ldquo;+&ldquo;号 选择刚刚新建服务的 <strong>名称</strong></li><li>选择同步类型: 我们选择 <code>双向同步</code> ，各个同步选项的含意: 到远程（仅上传到云端）, 到本地 (仅下载到本地), 双向 (同步文件夹功能)</li><li>设置同步的文件夹，一个是本地文件夹(后面打开 logseq app 是选择的路径)，一个是远程文件夹(logesq 云端存放路径)</li><li>点击 保存，设置完成后 点击 FolderSync 的 <code>同步文件夹</code> 按钮，你会看到之前窗口的同步名称，点击同步</li><li>使用 Tasker 其他自动化工具在按照你的需求自动同步</li></ol></li></ul><h4 id=使用-git-同步-logseq>使用 Git 同步 logseq <span class=tag><span class=logseq>logseq</span><span class=__>同步</span><span class=git>git</span><span class=pc>pc</span><span class=android>android</span><span class=ios>ios</span></span></h4><ul><li><p><span class="org-todo done DONE">DONE</span> pc 端 <span class=tag><span class=logseq>logseq</span><span class=__>同步</span><span class=pc>pc</span></span></p><ul><li>创建一个 github 仓库，参考 <a href=https://docs.github.com/en/repositories/creating-and-managing-repositories/quickstart-for-repositories>Quickstart for repositories</a></li><li>使用单独的 ssh-key 控制该 github 仓库.</li><li>克隆该仓库为文件夹 &lt;logseq></li><li>将之前创建的 logseq 数据复制到 &lt;logseq> 文件中</li><li>添加两个新的 git-hooks 文件到 &lt;logseq>/.git/hooks 目录下，文件名分别为 pre-commit, 和 post-commit</li><li>使用 <code>chmod +x .git/hooks/pre-commit && chmod +x .git/hooks/post-commit</code> 授予 pre-commit 和 post-commit 执行权限</li><li>打开 logseq 将 &lt;logseq> 文件作为新的 graph。</li><li>(可选) 打开 logseq -> settings -> Version Control -> Toggle on &ldquo;Enable Git auto commit&rdquo; . 来在使用 logseq 时，自动 commit 并提交到 github 仓库</li><li>(可选) 使用插件<a href=https://github.com/haydenull/logseq-plugin-git>logseq-git-plugin</a> 来手动提交 commit 到 github 仓库</li></ul><ul><li><p>pre-commit 和 post-commit 内容和作用</p><p>代码来自:<a href=https://github.com/CharlesChiuGit/Logseq-Git-Sync-101>Logseq-Git-Sync-101</a> 的 hooks 目录下的 pre-commit 和 post-commit 文件</p><ul><li><p>pre-commit</p><p>作用：每次 commit 前同步远程仓库数据，避免覆盖提交,内容如下</p><div class=highlight><div style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">25
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#999;font-weight:700;font-style:italic>#!/bin/sh
</span></span></span><span style=display:flex><span><span style=color:#999;font-weight:700;font-style:italic></span><span style=color:#998;font-style:italic>#</span>
</span></span><span style=display:flex><span><span style=color:#998;font-style:italic>#</span>
</span></span><span style=display:flex><span><span style=color:#998;font-style:italic># Pull before committing</span>
</span></span><span style=display:flex><span><span style=color:#998;font-style:italic># Credential handling options:</span>
</span></span><span style=display:flex><span><span style=color:#998;font-style:italic>#  - hardcode credentials in URL</span>
</span></span><span style=display:flex><span><span style=color:#998;font-style:italic>#  - use ssh with key auth</span>
</span></span><span style=display:flex><span><span style=color:#998;font-style:italic>#  - https://git-scm.com/docs/git-credential-store</span>
</span></span><span style=display:flex><span><span style=color:#998;font-style:italic>#  - git credential helper on windows</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#998;font-style:italic># Redirect output to stderr, uncomment for more output for debugging</span>
</span></span><span style=display:flex><span><span style=color:#998;font-style:italic># exec 1&gt;&amp;2</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:teal>output</span><span style=color:#000;font-weight:700>=</span><span style=color:#000;font-weight:700>$(</span>git pull --no-rebase<span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#998;font-style:italic># Handle non error output as otherwise it gets shown with any exit code by logseq</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>if</span> <span style=color:#000;font-weight:700>[</span> <span style=color:#d14>&#34;</span><span style=color:teal>$output</span><span style=color:#d14>&#34;</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#d14>&#34;Already up to date.&#34;</span> <span style=color:#000;font-weight:700>]</span>; <span style=color:#000;font-weight:700>then</span>
</span></span><span style=display:flex><span>    <span style=color:#998;font-style:italic># no output</span>
</span></span><span style=display:flex><span>    :
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>else</span>
</span></span><span style=display:flex><span>    <span style=color:#998;font-style:italic># probably error print it to screen</span>
</span></span><span style=display:flex><span>    <span style=color:#0086b3>echo</span> <span style=color:#d14>&#34;</span><span style=color:#d14>${</span><span style=color:teal>output</span><span style=color:#d14>}</span><span style=color:#d14>&#34;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>fi</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>git add -A
</span></span></code></pre></td></tr></table></div></div></li></ul><ul><li><p>post-commit</p><p>作用: 每次提交后，执行自动推送到远程仓库。 内容如下:</p><div class=highlight><div style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#999;font-weight:700;font-style:italic>#!/bin/sh
</span></span></span><span style=display:flex><span><span style=color:#999;font-weight:700;font-style:italic></span>
</span></span><span style=display:flex><span>git push origin main
</span></span></code></pre></td></tr></table></div></div></li></ul></li></ul><ul><li><p>git 仓库的一些优化选项</p><ul><li>不提交 logseq 目录下的 bak 目录和 .recycle 和一些常见的忽视文件</li></ul><div class=highlight><div style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">6
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cfg data-lang=cfg><span style=display:flex><span><span style=color:teal>logseq/bak/</span>
</span></span><span style=display:flex><span><span style=color:teal>logseq/.recycle</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:teal>.DS_Store</span>
</span></span><span style=display:flex><span><span style=color:teal>.idea</span>
</span></span><span style=display:flex><span><span style=color:teal>*.log</span>
</span></span></code></pre></td></tr></table></div></div></li></ul></li></ul><ul><li><p><span class="org-todo done DONE">DONE</span> 安卓端 logseq 同步 <span class=tag><span class=logseq>logseq</span><span class=android>android</span></span></p><p>已知可以管理 git 仓库的工具有: <a href=https://github.com/maks/MGit>MGit</a> 和 <a href=https://termux.dev/en/>Termux</a> ， 这里使用 Termux，因为 Termux 可以借用其他工具实现自动化操作，而 Mgit 目前没有不进入 Mgit 来完成 git 的操作。</p><ul><li><p>termux 操作步骤</p><ol><li>termux 配置 git 环境</li></ol><div class=highlight><div style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>pkg install openssh git
</span></span><span style=display:flex><span>git config --global user.name <span style=color:#d14>&#34;username&#34;</span>
</span></span><span style=display:flex><span>git config --global user.email <span style=color:#d14>&#34;example@xxx.com&#34;</span> 
</span></span></code></pre></td></tr></table></div></div><ol start=2><li><p>执行 <code>termux-setup-storage</code> 授权 termux 可以访问 SD 目录，</p></li><li><p>复制你在 pc 端上创建的 ssh-key 到 android 上，或在 termux 中重新构建 ssh-key 并给它可以访问远程仓库的权限。</p></li><li><p>克隆远程仓库到本地</p></li></ol><div class=highlight><div style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#0086b3>cd</span> ~/store/shared/Documents <span style=color:#000;font-weight:700>&amp;&amp;</span> git clone --depth <span style=color:#099>1</span> git@github.com:&lt;username&gt;/&lt;repos&gt;.git
</span></span><span style=display:flex><span>git config --global --add safe.directory ~/storage/shared/Documents
</span></span></code></pre></td></tr></table></div></div></li></ul><ul><li><p><span class=org-target id=org-target-----Termux-Widgets--------></span></p><ol><li>安装 Termux:Widgets 建议 Termux 和 Termux:Widgets 都使用 F-Droid 进行安装，避免一些意外错误</li><li>在 Termux 中创建 <code>~/.shortcuts</code> 文件，并添加两个可执行脚本，一个用来远程同步，一个用来推送到仓库</li><li>将脚本复制到 <code>~/.shortcuts</code> 目录后执行，<del>termux-fix-shebang xx.sh</del> 修复,因为 shellbang 不对出现的错误</li><li>执行脚本时，需要 termux 在后台运行</li></ol><ul><li><p>pull 脚本</p><div class=highlight><div style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">30
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#999;font-weight:700;font-style:italic>#!/usr/bin/env bash
</span></span></span><span style=display:flex><span><span style=color:#999;font-weight:700;font-style:italic></span><span style=color:#0086b3>eval</span> <span style=color:#000;font-weight:700>$(</span>ssh-agent<span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span><span style=color:#0086b3>source</span> ~/../usr/bin/source-ssh-agent <span style=color:#998;font-style:italic># path might varied based on your system and brand</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>function</span> send-notify<span style=color:#000;font-weight:700>()</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>if</span> <span style=color:#0086b3>type</span> termux-notification &gt; /dev/null 2&gt;&amp;1; <span style=color:#000;font-weight:700>then</span>
</span></span><span style=display:flex><span>        termux-notification -t <span style=color:#d14>&#34;logseq pull&#34;</span> -c <span style=color:#d14>&#34;</span><span style=color:teal>$*</span><span style=color:#d14>&#34;</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>fi</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>if</span> <span style=color:#000;font-weight:700>[[</span>!  -d <span style=color:teal>$HOME</span>/storage/shared/Documents/logseq <span style=color:#000;font-weight:700>]]</span>; <span style=color:#000;font-weight:700>then</span>
</span></span><span style=display:flex><span>   <span style=color:#0086b3>cd</span> <span style=color:teal>$HOME</span>/storage/shared/Documents
</span></span><span style=display:flex><span>   git clone --depth <span style=color:#099>1</span> git@github.logseq:&lt;username&gt;/&lt;repo-name&gt;.git
</span></span><span style=display:flex><span>   <span style=color:#0086b3>cd</span> logseq  <span style=color:#000;font-weight:700>||</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>       send-notify <span style=color:#d14>&#34;git clone 执行出问题&#34;</span>
</span></span><span style=display:flex><span>       <span style=color:#0086b3>exit</span> <span style=color:#099>1</span>
</span></span><span style=display:flex><span>   <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>   git config --global --add safe.directory <span style=color:teal>$PWD</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>else</span>
</span></span><span style=display:flex><span>    <span style=color:#0086b3>cd</span> <span style=color:teal>$HOME</span>/storage/shared/Documents/logseq <span style=color:#000;font-weight:700>||</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>        send-notify <span style=color:#d14>&#34;没有进入指定目录&#34;</span> <span style=color:#d14>&#34;</span><span style=color:teal>$HOME</span><span style=color:#d14>/storage/shared/Documents/logseq&#34;</span>
</span></span><span style=display:flex><span>        <span style=color:#0086b3>exit</span> <span style=color:#099>1</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>fi</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>git pull
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>if</span> <span style=color:#000;font-weight:700>[[</span> <span style=color:teal>$?</span> <span style=color:#000;font-weight:700>==</span> <span style=color:#099>0</span> <span style=color:#000;font-weight:700>]]</span>; <span style=color:#000;font-weight:700>then</span>
</span></span><span style=display:flex><span>    send-notify <span style=color:#d14>&#34;拉取成功&#34;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>else</span>
</span></span><span style=display:flex><span>    send-notify <span style=color:#d14>&#34;拉取失败&#34;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>fi</span>
</span></span></code></pre></td></tr></table></div></div></li></ul><ul><li><p>push 脚本</p><div class=highlight><div style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">26
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#999;font-weight:700;font-style:italic>#!/usr/bin/env bash
</span></span></span><span style=display:flex><span><span style=color:#999;font-weight:700;font-style:italic></span><span style=color:#0086b3>eval</span> <span style=color:#000;font-weight:700>$(</span>ssh-agent<span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span><span style=color:#0086b3>source</span> ~/../usr/bin/source-ssh-agent <span style=color:#998;font-style:italic># path might varied based on your system and brand</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>function</span> send-notify<span style=color:#000;font-weight:700>()</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>if</span> <span style=color:#0086b3>type</span> termux-notification &gt; /dev/null 2&gt;&amp;1; <span style=color:#000;font-weight:700>then</span>
</span></span><span style=display:flex><span>        termux-notification -t <span style=color:#d14>&#34;logseq push&#34;</span> -c <span style=color:#d14>&#34;</span><span style=color:teal>$*</span><span style=color:#d14>&#34;</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>fi</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>if</span> <span style=color:#000;font-weight:700>[[</span> !  -d <span style=color:teal>$HOME</span>/storage/shared/Documents/logseq <span style=color:#000;font-weight:700>]]</span>; <span style=color:#000;font-weight:700>then</span>
</span></span><span style=display:flex><span>    send-notify <span style=color:#d14>&#34;目录 </span><span style=color:teal>$HOME</span><span style=color:#d14>/storage/shared/Documents/logseq 不存在&#34;</span>
</span></span><span style=display:flex><span>    <span style=color:#0086b3>exit</span> <span style=color:#099>1</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>else</span>
</span></span><span style=display:flex><span>    <span style=color:#0086b3>cd</span> <span style=color:teal>$HOME</span>/storage/shared/Documents/logseq <span style=color:#000;font-weight:700>||</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>        send-notify <span style=color:#d14>&#34;没有进入指定目录&#34;</span> <span style=color:#d14>&#34;</span><span style=color:teal>$HOME</span><span style=color:#d14>/storage/shared/Documents/logseq&#34;</span>
</span></span><span style=display:flex><span>        <span style=color:#0086b3>exit</span> <span style=color:#099>1</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>fi</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>git add -A <span style=color:#000;font-weight:700>&amp;&amp;</span> git commit -m <span style=color:#d14>&#34;Android edit on </span><span style=color:#000;font-weight:700>$(</span>data +<span style=color:#d14>&#34;%Y-%m-%d %H:%M:%S %z&#34;</span><span style=color:#000;font-weight:700>)</span><span style=color:#d14>&#34;</span> <span style=color:#000;font-weight:700>&amp;&amp;</span> git push
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>if</span> <span style=color:#000;font-weight:700>[[</span> <span style=color:teal>$?</span> <span style=color:#000;font-weight:700>==</span> <span style=color:#099>0</span> <span style=color:#000;font-weight:700>]]</span>; <span style=color:#000;font-weight:700>then</span>
</span></span><span style=display:flex><span>    send-notify <span style=color:#d14>&#34;推送成功&#34;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>else</span>
</span></span><span style=display:flex><span>    send-notify <span style=color:#d14>&#34;推送失败&#34;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>fi</span>
</span></span></code></pre></td></tr></table></div></div></li></ul></li></ul><ul><li><p>使用 Termux:Tasker 配合 Tasker 同步 logseq <span class=tag><span class=tasker>tasker</span><span class=termux>termux</span><span class=logseq>logseq</span></span></p><ol><li>安装 termux:tasker ,建议 termux 和 termux:tasker 都使用 F-Droid 安装</li><li>在 Termux 中创建 <code>~/.termux/tasker</code> 文件，将<a href=#org-target-----Termux-Widgets-------->该内容下</a> 的 pull，push 脚本复制到 <code>~/.termux/tasker</code> 目录下，并赋予执行权限, 并修复 shellbang 的错误，和测试脚本是否可用</li><li>打开 Tasker -> 任务 &ndash;> &ldquo;+&rdquo; &ndash;> &ldquo;logseq pull&rdquo; &ndash;> &ldquo;加号&rdquo; &ndash;> 插件 &ndash;> Termux:Tasker &ndash;> 配置 &ndash;> Executable: 你命名的 pull 脚本名 &ndash;> &ldquo;save&rdquo; &ndash; 运行</li><li>按照步骤三创建新的任务 <code>logseq push</code> , executable 为 你的 push 脚本名</li><li>高阶用法，创建一个任务 logseq pull 后在打开 logseq 文件， 关闭 logseq 程序后自动执行 logseq push 命令</li></ol></li></ul></li></ul><ul><li><p>logseq ios 端的同步 <span class=tag><span class=logseq>logseq</span><span class=ios>ios</span><span class=git>git</span></span></p><p>可选工具：</p><ol><li><a href=https://workingcopy.app/>Working Copy</a> 免费版仅支持 git pull 操作, 不支持 <del>git push</del> 操作, 如果你在 ios 端只读使用，非常推荐。不在乎价格，也推荐</li><li><a href=https://ish.app/>iSH</a> 一个 Linux shell 工具，可以安装 git ，但不支持 <code>捷径</code> 操作。 所以不推荐</li><li><a href=https://github.com/holzschu/a-shell>a-shell</a> 一个免费开源的终端工具，可以对远程仓库进行拉取，推送，无法完全自动化拉取，备份</li></ol><ul><li><p>a-shell 同步 logseq 方法 :logseq:ios:a-shell:</p><ul><li>复制之前创建的 ssh-key 密钥和公钥到 iso 端。（你也可以在 a-shell 中创建新的）</li><li>(可选) 如何克隆时提示你需要 ssh key</li></ul><div class=highlight><div style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>lg2 config user.identityFile <span style=color:#d14>&#34;~/Documents/.ssh/id_ed25519&#34;</span>
</span></span></code></pre></td></tr></table></div></div><ul><li>克隆远程仓库到本地</li></ul><div class=highlight><div style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>lg2 clone --depth <span style=color:#099>1</span> git@github.com:&lt;username&gt;/&lt;repo-name&gt;.git
</span></span></code></pre></td></tr></table></div></div><ul><li>设置 username 和 email</li></ul><div class=highlight><div style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>lg2 config user.name <span style=color:#d14>&#34;John Doe&#34;</span>
</span></span><span style=display:flex><span>lg2 config user.email <span style=color:#d14>&#34;Johndoe@example.com&#34;</span>
</span></span></code></pre></td></tr></table></div></div><ul><li>创建快捷方式 <code>打开 logseq 时，拉取远程仓库，关闭 logseq 时，自动推送到远程仓库</code>.</li><li>存在问题，logseq 仅对自己文件用于权限。</li></ul></li></ul><ul><li><p>working copy 同步流程 :logseq:ios:working-copy:</p><ul><li>打开文件 app 进入 -> 我的 Iphone -> 在 Logseq 图标下新建一个目录(该图标出现的前提，需要打开一次 logseq app)</li><li>打开 Wokring Copy -> Settings &ndash;> Hosting Providers -> Click Test -> Sing-in your Github account</li><li>open Working Copy -> Click &ldquo;+&rdquo; -> Clone repository -> Choose your repo and hit Clone</li><li>下载仓库后:<ul><li>点击该仓库名， -> 点击 Repository -> 点击 标题上的 down carrot （下箭头）</li><li>选择 Link Repository to Directory</li><li>此时进入 <strong>文件</strong> app 的操作界面，选择 Logseq 图标下的目录（步骤一新建的），打开</li></ul></li><li>打开 Logseq 将步骤一新建的目录添加到新的图表(graph)</li><li><code>ShortCuts</code> 操作<ul><li>打开 ShortCUts -> Automation(自动化) -> Create Personal Automation:<ol><li>创建 pull 快捷方式:<ol><li>点击 <code>在 App 打开时</code> &ndash;> 选择程序 Logseq -> 下一步</li><li>新的快捷方式，搜索操作 -> Pull Repository , 选择刚才 repo</li><li>构建完成（可以选择打开 app 后手动确认还是立即执行）</li></ol></li><li>创建 push 操作:<ol><li>app 选择在 logseq 关闭时</li><li>新的快捷方法</li><li>动作 <code>stage for Commit</code> , Path &ldquo;*&rdquo; , Repo: your Logseq repo</li><li>if 条件 input: 选择变量 Filenames 。条件: 有任意值，(has any value)</li><li>if 下的操作: commit Pepository, Push Repository</li><li>commit Repository: Repo: your Logseq repo 。 Message: &ldquo;Auto-commit form ios&rdquo;</li><li>push Repository: Repo: Your Logseq repo .</li></ol></li></ol></li></ul></li><li>测试是否同步</li></ul></li></ul></li></ul><h2 id=参考>参考</h2><ol><li><a href=https://github.com/CharlesChiuGit/Logseq-Git-Sync-101>CharlesChiuGit&ndash;Logseq-Git-Sync-101</a></li><li><a href=https://discuss.logseq.com/t/alternative-way-of-git-syncing-on-ios-using-a-shell-for-free/8570/10>Alternative way of git syncing on iOS using a-shell for free - Customization / Look what I built - Logseq</a></li><li><a href=https://github.com/holzschu/a-shell/issues/547>Failed to authenticate SSH session: Unable to open public key file · Issue #547 · holzschu/a-shell</a></li><li><a href=https://www.bilibili.com/video/BV1pm4y1A79c/>logseq笔记软件实现多终端(window,MAC,IOS,Android)自动同步的操作步骤【完结】_哔哩哔哩_bilibili</a></li><li>[[https://zhuanlan.zhihu.com/p/553238392][Logseq 系列之 Git 同步 - 知乎]]</li><li>[[https://zhuanlan.zhihu.com/p/565028534][42号笔记：iOS上使用iSH的git同步Obsidian - 知乎]]</li><li>[[https://utgd.net/article/20315][Obsidian 的手机端同步方案，iOS + Git + Shortcuts 实现自动同步 | #UNTAG]]</li><li>[[https://forum-zh.obsidian.md/t/topic/10083/10][ios上使用iSH的git同步obsidian - 经验分享 - Obsidian 中文论坛]]</li></ol></div></div></div><div id=footer><div class=container-footer><div class=beian><a target=_blank href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode="></a><a href target=_blank><span class=some>icp...<span></a></div><div class=info><a href=https://github.com/loveminimal/hugo-theme-virgo>Copyright</a> © 2020 - <span id=info-date></span></div></div></div><div class=cool-after style=background-color:rgba(255,255,255,.81)></div></body></html>